<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#000000">
    <title>Externe Ansicht</title>
    <link rel="stylesheet" href="../kaskadierend.css">

    <link rel="shortcut icon" type="image/x-icon" href="../img/kurs_logo.ico">
    <link rel="icon" type="image/x-icon"
        sizes="32x32 64x64 96x96 128x128 160x160 192x192 224x224 256x256 288x288 320x320 352x352 384x384 416x416 448x448 480x480 512x512"
        href="%BASE%../img/kurs_logo.ico">
    <link rel="apple-touch-icon" type="image/x-icon"
        sizes="32x32 64x64 96x96 128x128 160x160 192x192 224x224 256x256 288x288 320x320 352x352 384x384 416x416 448x448 480x480 512x512"
        href="%BASE%../img/kurs_logo.ico">
</head>

<body class="center-children">
    <style>
        body,
        html {
            margin: 0 !important;
            width: 100%;
            height: 100%;
        }

        iframe {
            width: 95%;
            height: 90%;
            border-radius: 15px;
            background-color: white;
        }
    </style>

    <div id="back-btn">⯇ Zurück</div>

    <iframe frameborder="0"></iframe>

    <script>
        const getArgs = () => {
            const args = {};
            const query = window.location.search.substring(1);
            const pairs = query.split("&");
            for (let i = 0; i < pairs.length; i++) {
                const pair = pairs[i].split("=");
                args[pair[0]] = decodeURIComponent(pair[1]);
            }
            return args;
        };

        const getUrl = (args) => {
            var url = args.url;
            if (url.endsWith('.pdf')) url += '#toolbar=0';
            return url;
        };

        window.onload = () => {
            const args = getArgs();
            const iframe = document.querySelector('iframe');
            iframe.src = getUrl(args) || 'https://gymnasium-pegnitz.de/';
            document.title = args.title || document.title;
            document.getElementById('back-btn').onclick = () => {
                window.location.href = args.back || '../';
            };
        };
    </script>
</body>

</html>