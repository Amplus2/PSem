<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>collatz-collection</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js" integrity="sha256-t9UJPrESBeG2ojKTIcFLPGF7nHi2vEc7f5A2KpH/UBU=" crossorigin="anonymous"></script>
    <script src="../collatz.js"></script>
    <div class="actual-body" style="margin:50px !important;">
        <canvas id="chart1"></canvas>
        <canvas id="chart2"></canvas>
    </div>
    <script>
        (async () => {
            const collatz_nums_steps = await collatz_amount_steps("../collatz_steps.wasm", range(1, 10 ** 5));
            const chart1 = new Chart(document.getElementById('chart1'), {
                type: "bar",
                data: {
                    labels: Array.from(collatz_nums_steps.keys()),
                    datasets: [{
                        label: "Anzahl der Zahlen mit n Schritten",
                        data: Array.from(collatz_nums_steps.values()),
                        backgroundColor: 'green'
                    }]
                },
                options: {
                    scales: {
                        yAxes: [{ ticks: { beginAtZero: true }, gridLines: { color: 'rgba(255, 255, 255, 1)' } }]
                    },
                }
            });

            const chart2 = new Chart(document.getElementById('chart2'), {
                type: "bar",
                data: {
                    labels: range(1, 3000),
                    datasets: [{
                        label: "LÃ¤nge der Collatz-Folge",
                        data: await collatz_steps("../collatz_steps.wasm", range(1, 3000)),
                        backgroundColor: 'orange'
                    }]
                },
                options: {
                    scales: {
                        yAxes: [{ ticks: { beginAtZero: true }, gridLines: { color: 'rgba(255, 255, 255, 1)' } }]
                    },
                }
            });
        })();
    </script>
</body>
</html>
